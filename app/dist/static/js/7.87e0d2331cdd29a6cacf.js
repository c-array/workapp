webpackJsonp([7],{"728M":function(e,t){},TCV4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("4YfN"),s=n.n(r),i=n("9rMa"),o=n("nxAZ"),a=n("7g+Q"),l=n("MF1H"),u=n("Ap4n"),c=n("z5TY"),m=n("SAzG"),p=n("d5Kw"),v=n("X8uQ"),h=(c.a,m.a,p.a,v.a,s()({},Object(i.c)({vm:function(e){return e.common.user.vm},queryModel:function(e){return e.common.user.queryModel}})),s()({},Object(i.b)({getDepartmentList:"common/user/getDepartmentList",getUserSearch:"common/user/getUserSearch"})),{name:"user-search",data:function(){return{}},components:{Group:c.a,XInput:m.a,XButton:p.a,Selector:v.a},created:function(){this.getDepartmentList()},computed:s()({},Object(i.c)({vm:function(e){return e.common.user.vm},queryModel:function(e){return e.common.user.queryModel}})),methods:s()({},Object(i.b)({getDepartmentList:"common/user/getDepartmentList",getUserSearch:"common/user/getUserSearch"}))}),d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inner search-box"},[n("group",{attrs:{"label-width":"55px","label-margin-right":"10px","label-align":"right"}},[n("x-input",{attrs:{title:"用户名",placeholder:"请输入用户名"},model:{value:e.queryModel.realname,callback:function(t){e.$set(e.queryModel,"realname",t)},expression:"queryModel.realname"}}),e._v(" "),n("selector",{attrs:{title:"部门","value-map":["id","depName"],placeholder:"请选择部门",options:e.vm.departmentList1},model:{value:e.queryModel.departmentId,callback:function(t){e.$set(e.queryModel,"departmentId",t)},expression:"queryModel.departmentId"}}),e._v(" "),n("x-input",{attrs:{title:"职位",placeholder:"请输入职位"},model:{value:e.queryModel.post,callback:function(t){e.$set(e.queryModel,"post",t)},expression:"queryModel.post"}})],1),e._v(" "),n("div",{staticClass:"search-btn"},[n("x-button",{attrs:{type:"primary",text:"确定"},nativeOn:{click:function(t){return e.getUserSearch(t)}}}),e._v(" "),n("x-button",{attrs:{text:"取消"},nativeOn:{click:function(t){e.vm.searchVisible=!e.vm.searchVisible}}})],1)],1)},staticRenderFns:[]};var f=n("Z0/y")(h,d,!1,function(e){n("gXJ9")},"data-v-8080ccb2",null).exports,g=(s()({},Object(i.c)({userList:function(e){return e.common.user.userList},roleList:function(e){return e.common.user.roleList},vm:function(e){return e.common.user.vm}})),o.a,a.a,l.a,u.a,s()({},Object(i.b)({query:"common/user/getList",getRoles:"common/user/getRoles",handleAssignRole:"common/user/assignRole"}),{gotoForm:function(e){this.$store.commit("common/user/clear"),e?this.$router.push({path:"/system/user/form",query:{userId:e.id}}):this.$router.push({path:"/system/user/form"})},handleDelete:function(e){var t=this;this.$vux.confirm.show({title:"删除提示",content:"确定要删除该条记录?",onCancel:function(){t.$vux.toast.text("已取消删除","top")},onConfirm:function(){t.$store.commit({type:"common/user/delete",id:e})}})}}),{name:"user",data:function(){return{}},computed:s()({},Object(i.c)({userList:function(e){return e.common.user.userList},roleList:function(e){return e.common.user.roleList},vm:function(e){return e.common.user.vm}})),components:{XHeader:o.a,Popup:a.a,PopupHeader:l.a,Checklist:u.a,userSearch:f},created:function(){this.query()},methods:s()({},Object(i.b)({query:"common/user/getList",getRoles:"common/user/getRoles",handleAssignRole:"common/user/assignRole"}),{gotoForm:function(e){this.$store.commit("common/user/clear"),e?this.$router.push({path:"/system/user/form",query:{userId:e.id}}):this.$router.push({path:"/system/user/form"})},handleDelete:function(e){var t=this;this.$vux.confirm.show({title:"删除提示",content:"确定要删除该条记录?",onCancel:function(){t.$vux.toast.text("已取消删除","top")},onConfirm:function(){t.$store.commit({type:"common/user/delete",id:e})}})}})}),y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inner list-main"},[n("x-header",{staticClass:"x-header",attrs:{title:"用户管理"}},[n("div",{staticClass:"x-header-right",attrs:{slot:"right"},slot:"right"},[n("i",{staticClass:"icon-search",on:{click:function(t){e.vm.searchVisible=!e.vm.searchVisible}}}),e._v(" "),n("i",{staticClass:"icon-add",on:{click:function(t){e.gotoForm()}}})])]),e._v(" "),n("ul",e._l(e.userList,function(t,r){return n("li",[n("p",{staticClass:"title"},[n("span",[e._v("真实姓名："+e._s(t.realname))])]),e._v(" "),n("p",[n("span",[e._v("部门："+e._s(t.work_department.depName))]),n("span",[e._v("职位："+e._s(t.post))])]),e._v(" "),n("p",[n("span",[e._v("手机号："+e._s(t.phone))])]),e._v(" "),n("p",[n("span",[e._v("邮箱："+e._s(t.email))])]),e._v(" "),n("p",[n("span",[e._v("创建日期："+e._s(t.createTime))]),e._v(" "),n("span",[n("i",{staticClass:"icon-partner",on:{click:function(n){e.getRoles(t)}}}),e._v(" "),n("i",{staticClass:"icon-edit",on:{click:function(n){e.gotoForm(t)}}}),e._v(" "),n("i",{staticClass:"icon-delete",on:{click:function(n){e.handleDelete(t.id)}}})])])])})),e._v(" "),n("popup",{model:{value:e.vm.visible,callback:function(t){e.$set(e.vm,"visible",t)},expression:"vm.visible"}},[n("popup-header",{attrs:{"left-text":"关闭","right-text":"确定",title:e.vm.currentUserInfo.realname+"-分配角色","show-bottom-border":!1},on:{"on-click-left":function(t){e.vm.visible=!1},"on-click-right":e.handleAssignRole}}),e._v(" "),n("checklist",{attrs:{options:e.roleList},model:{value:e.vm.checkRole,callback:function(t){e.$set(e.vm,"checkRole",t)},expression:"vm.checkRole"}})],1),e._v(" "),n("popup",{attrs:{position:"right",width:"90%"},model:{value:e.vm.searchVisible,callback:function(t){e.$set(e.vm,"searchVisible",t)},expression:"vm.searchVisible"}},[n("user-search")],1)],1)},staticRenderFns:[]};var _=n("Z0/y")(g,y,!1,function(e){n("YxJf")},"data-v-1a9c5156",null);t.default=_.exports},X8uQ:function(e,t,n){"use strict";var r=n("hRKE"),s=n.n(r),i=n("qZvt"),o=n.n(i),a=n("j51P"),l=n("gTYh"),u=(a.a,l.a,String,String,Array,String,String,Boolean,String,Number,Object,Boolean,Array,{name:"selector",mixins:[a.a],created:function(){void 0!==this.value&&(this.currentValue=this.value)},beforeMount:function(){this.isIOS=/iPad|iPhone|iPod/.test(window.navigator.userAgent)},computed:{fixIos:function(){return!this.placeholder&&this.isEmptyValue(this.value)&&this.isIOS&&this.title},color:function(){return this.showPlaceholder?"#A9A9A9":""},processOptions:function(){var e=this;if(!this.options.length)return[];var t="object"===s()(this.options[0]);return t&&!this.valueMap?this.options:t&&this.valueMap?this.options.map(function(t){return{key:t[e.valueMap[0]],value:t[e.valueMap[1]]}}):this.options.map(function(e){return{key:e,value:e}})},showPlaceholder:function(){return!(!this.isEmptyValue(this.value)||!this.placeholder)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{isEmptyValue:function(e){return void 0===e||""===e||null===e},cleanStyle:l.a,getFullValue:function(){var e=this;return this.value&&this.options.length?"object"!==s()(this.options[0])?this.value:this.valueMap?this.options.filter(function(t){return t[e.valueMap[0]]===e.value}):this.options.filter(function(t){return t.key===e.value}):null}},filters:{findByKey:function(e,t){var n=o()(t,function(t){return t.key===e});return n?n.value:e}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},props:{title:String,direction:String,options:{type:Array,required:!0},name:String,placeholder:String,readonly:Boolean,value:[String,Number,Object,Boolean],valueMap:{type:Array,validator:function(e){return!(!e.length||2!==e.length)}}},data:function(){return{currentValue:"",isIOS:!1}}}),c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vux-selector weui-cell",class:{"weui-cell_select":!e.readonly,"weui-cell_select-after":e.title}},[e.title?n("div",{staticClass:"weui-cell__hd"},[n("label",{staticClass:"weui-label",class:e.labelClass,style:e.cleanStyle({width:e.$parent.labelWidth,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight}),attrs:{for:"vux-selector-"+e.uuid},domProps:{innerHTML:e._s(e.title)}})]):e._e(),e._v(" "),e.readonly?n("div",{staticClass:"weui-cell__ft vux-selector-readonly"},[e._v("\n    "+e._s(e._f("findByKey")(e.value,e.processOptions))+"\n  ")]):n("div",{staticClass:"weui-cell__bd"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-select",style:e.cleanStyle({direction:e.direction,color:e.color}),attrs:{id:"vux-selector-"+e.uuid,name:e.name},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.currentValue=t.target.multiple?n:n[0]}}},[e.showPlaceholder?n("option",{domProps:{value:null===e.value?"null":"",selected:e.isEmptyValue(e.value)&&!!e.placeholder}},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.fixIos?n("option",{attrs:{disabled:""}}):e._e(),e._v(" "),e._l(e.processOptions,function(t){return n("option",{domProps:{value:t.key}},[e._v(e._s(t.value))])})],2)])])},staticRenderFns:[]};var m=n("Z0/y")(u,c,!1,function(e){n("728M")},null,null);t.a=m.exports},YxJf:function(e,t){},gXJ9:function(e,t){}});
//# sourceMappingURL=7.87e0d2331cdd29a6cacf.js.map