webpackJsonp([15],{"0f7/":function(t,s){},"8JU9":function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=o("3cXf"),n=o.n(a),e=(o("2sCs"),o("z5TY")),i=o("BGNQ"),r=o("d5Kw"),c=(e.a,i.a,r.a,{name:"my",data:function(){return{userInfo:localStorage.userInfo?JSON.parse(localStorage.userInfo):""}},components:{Group:e.a,Cell:i.a,XButton:r.a},methods:{logout:function(){var t=this;sessionStorage.userId="",this.$vux.confirm.show({title:"提示",content:"确定要退出系统?",onCancel:function(){},onConfirm:function(s){t.$router.push({path:"/"})}})},handleUpload:function(t){var s=this,o=t.target.files[0];if(!/image\/\w+/.test(o.type))return this.$vux.toast.text("请确保文件为图像文件","top"),!1;if(o.size>1048576)return this.$vux.toast.text("请上传小于1M以内的图片","top"),!1;var a=new FormData;a.append("file",o),this.$http.post({url:"/uploadFile",data:a,type:"formdata",success:function(t){s.setUploadImg(t.filePath)},error:function(t){s.$vux.toast.text(t,"top")}})},setUploadImg:function(t){var s=this;this.$http.post({url:"/my/upload",type:"json",data:{id:this.userInfo.id,pic:t},success:function(o){s.userInfo.pic=t,localStorage.userInfo=n()(s.userInfo)},error:function(t){s.$vux.toast.text(t,"top")}})}}}),l={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"inner my"},[o("div",{staticClass:"my-head"},[o("div",{staticClass:"my-pic",class:{active:!t.userInfo.pic}},[t.userInfo.pic?o("img",{attrs:{src:t.userInfo.pic,alt:""}}):o("i",{staticClass:"icon-my"}),t._v(" "),o("input",{attrs:{type:"file"},on:{change:function(s){t.handleUpload(s)}}})]),t._v(" "),o("div",{staticClass:"my-head_info"},[o("h3",[t._v(t._s(t.userInfo.realname))]),t._v(" "),o("p",[t._v("部门："+t._s(t.userInfo.post))])])]),t._v(" "),o("group",{staticClass:"my-group"},[o("cell",{attrs:{link:"/my/partner","is-link":""}},[o("div",{attrs:{slot:"icon"},slot:"icon"},[o("i",{staticClass:"icon-partner blue"}),t._v(" "),o("span",[t._v("我的工作")])])]),t._v(" "),o("cell",{attrs:{link:"/my/product","is-link":""}},[o("div",{attrs:{slot:"icon"},slot:"icon"},[o("i",{staticClass:"icon-product purple"}),t._v(" "),o("span",[t._v("我参与的产品")])])]),t._v(" "),o("cell",{attrs:{link:"/my/project","is-link":""}},[o("div",{attrs:{slot:"icon"},slot:"icon"},[o("i",{staticClass:"icon-project red"}),t._v(" "),o("span",[t._v("我参与的项目")])])])],1),t._v(" "),o("group",{staticClass:"my-group"},[o("cell",{staticClass:"lgout",attrs:{title:"退出登录"},nativeOn:{click:function(s){return t.logout(s)}}})],1)],1)},staticRenderFns:[]};var u=o("Z0/y")(c,l,!1,function(t){o("0f7/")},"data-v-4f3feada",null);s.default=u.exports}});
//# sourceMappingURL=15.fea42aff36f102727835.js.map